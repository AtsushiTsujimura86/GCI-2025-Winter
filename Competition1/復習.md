# コンペ１復習

## クロス集計
死亡したなかでの男女比を調べたい。
```python
cross = train.groupby(["Perished", "Sex"]).size().unstack()
```
- Perished=0,Sex=Maleの人数
-  Perished=0,Sex=Femaleの人数
- Perished=1,Sex=Maleの人数
- Perished=1,Sex=Femaleの人数  
`groupby().size()`で、グループごとの人数をカウントする  
`.unstack()`で左を右にする
<img width="192" height="90" alt="image" src="https://github.com/user-attachments/assets/329b216e-b066-45ee-8ca7-13d8c5b55a10" />
<img width="212" height="74" alt="image" src="https://github.com/user-attachments/assets/0b247cfe-0a75-4d8b-a16c-a13ca2b19c89" />
<br>
<br>

```python
cross.plot(kind="bar", stacked=True, color=["skyblue", "lightcoral"])
```
これは pandas の DataFrame.plot() を利用していて、内部で matplotlib が動いている。stacked=Trueで積み上げグラフの指定

<img width="400" height="300" alt="image" src="https://github.com/user-attachments/assets/06da2812-7631-443c-b494-a7534fc7a881" />
